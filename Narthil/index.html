<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<script>
 function reqListener() {
  var response_mock = this.responseText;
  //console.log(response_mock);
  var json_obj = JSON.parse(response_mock);
  var content = 'Country : <br/>' + 'longitude & latitude : <br/>' + 'Domain : <br/>' + json_obj.domain + '<br/>' + 'IPs : <br/>';
  for(var i in json_obj.ips){
   content += json_obj.ips[i] + '<br/>'; 
  }
  document.getElementById('result').innerHTML = content;
  
}

 function ajaxGet() {
  var oReq = new XMLHttpRequest();
  oReq.onload = reqListener;
  var params = "?domain=" + document.getElementById('domain').value;
  //console.log("p=" + params);
  oReq.open("get","get.php" + params, true);
  oReq.send();
 }

 //ajaxGet();

 
</script>
</head>

<body>
  <form>
   <input type="text" value="" id="domain"/>
   <button type="button" onclick="javascript:ajaxGet();">Query</button>
  </form>
  <div id='result'></div>
</body>
</html>

